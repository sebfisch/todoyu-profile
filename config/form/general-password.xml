<?xml version="1.0" encoding="UTF-8"?>
<form>
	<attributes>
		<attribute name="action">?ext=profile&amp;controller=general</attribute>
		<attribute name="name">general</attribute>
		<attribute name="onsubmit">return false</attribute>
	</attributes>
	<fieldsets>

		<fieldset name="left">
			<legend>Left form column</legend>
			<class>left</class>
			<elements>

				<field type="text" name="password_old">
					<label>profile.general.password.current</label>
					<type>password</type>
					<validate>
						<isNotEmpty msg="profile.general.password.current.empty" />
						<user msg="profile.general.password.current.wrong">
							<function>TodoyuContactValidator::isCurrentPassword</function>
						</user>
					</validate>
				</field>

				<field type="text" name="password_new1">
				<label>profile.general.password.new1</label>
					<type>password</type>
					<validate>
						<goodPassword />
					</validate>
				</field>

				<field type="text" name="password_new2">
					<label>profile.general.password.new2</label>
					<type>password</type>
					<validate>
						<equals msg="profile.general.password.notEqual">
							<field>password_new1</field>
						</equals>
						<isNotEmpty />
					</validate>
				</field>

			</elements>
		</fieldset>

		<fieldset name="buttons">
			<legend>Actions</legend>
			<class>buttons</class>
			<elements>
				<field type="saveButton" name="save">
					<onclick>Todoyu.Ext.profile.General.savePassword(this.form)</onclick>
				</field>
			</elements>
		</fieldset>

	</fieldsets>
</form>